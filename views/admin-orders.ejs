<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">

<head>
    <!-- Basic Page Needs -->
    <meta charset="utf-8">
    <title>Vitis - Admin Orders</title>

    <meta name="author" content="trivlogic.com">

    <!-- Mobile Specific Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Theme Style -->
    <link rel="stylesheet" type="text/css" href="admin-css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="admin-css/animation.css">
    <link rel="stylesheet" type="text/css" href="admin-css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="admin-css/bootstrap-select.min.css">
    <link rel="stylesheet" type="text/css" href="admin-css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


    <!-- Font -->
    <link rel="stylesheet" href="admin-font/fonts.css">

    <!-- Icon -->
    <link rel="stylesheet" href="admin-icon/style.css">

    <!-- Favicon and Touch Icons  -->
    <link rel="shortcut icon" href="/images/max-logo.png">
    <link rel="apple-touch-icon-precomposed" href="/images/max-logo.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }

        .main-content {
            padding: 20px;
            min-height: 100vh;
        }

        .main-content-inner {
            width: 100% !important;
            margin: 0 auto;
        }

        .main-content-wrap {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            margin-bottom: 30px;
        }

        /* Header Section */
        .flex.items-center.flex-wrap.justify-between.gap20.mb-30 {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
            padding: 30px;
            background: linear-gradient(135deg, #fe7a39 0%, #fe7a39 100%);
            color: white;
            margin-bottom: 0 !important;
        }

        h3 {
            font-size: 28px;
            font-weight: 700;
            margin: 0;
            color: white;
        }

        .breadcrumbs {
            display: flex;
            align-items: center;
            gap: 8px;
            list-style: none;
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 16px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
        }

        .breadcrumbs a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumbs a:hover {
            color: white;
        }

        .breadcrumbs .text-tiny {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.8);
        }

        .breadcrumbs .icon-chevron-right::before {
            content: "‚Ä∫";
            color: rgba(255, 255, 255, 0.6);
        }

        /* Table Styles */
        .wg-box {
            background: white;
        }

        .wg-table {
            width: 100%;
        }

        .table-title {
            display: flex;
            list-style: none;
            background: #f8fafc;
            padding: 20px;
            border-bottom: 2px solid #e2e8f0;
            font-weight: 600;
            color: #2d3748;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .table-title li {
            flex: 1;
            padding: 0 10px;
        }

        .table-title li:nth-child(1) {
            flex: 2;
        }

        /* Order ID */
        .table-title li:nth-child(2) {
            flex: 1.5;
        }

        /* User */
        .table-title li:nth-child(3) {
            flex: 1;
        }

        /* Amount */
        .table-title li:nth-child(4) {
            flex: 1;
        }

        /* Status */
        .table-title li:nth-child(5) {
            flex: 1;
        }

        /* Action */

        .flex.flex-column {
            display: flex;
            flex-direction: column;
        }

        .wg-product.item-row {
            display: flex;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #f1f5f9;
            transition: all 0.2s ease;
        }

        .wg-product.item-row:hover {
            background-color: #f8fafc;
            transform: translateX(4px);
        }

        .wg-product.item-row:last-child {
            border-bottom: none;
        }

        .wg-product.item-row>div {
            flex: 1;
            padding: 0 10px;
        }

        .wg-product.item-row>div:nth-child(1) {
            flex: 2;
        }

        /* Order ID */
        .wg-product.item-row>div:nth-child(2) {
            flex: 1.5;
        }

        /* User */
        .wg-product.item-row>div:nth-child(3) {
            flex: 1;
        }

        /* Amount */
        .wg-product.item-row>div:nth-child(4) {
            flex: 1;
        }

        /* Status */
        .wg-product.item-row>div:nth-child(5) {
            flex: 1;
        }

        /* Action */

        .body-text {
            font-weight: 500;
            color: #2d3748;
            font-size: 14px;
        }

        .text-main-dark {
            color: #2d3748 !important;
        }

        /* Order ID Styling */
        .wg-product.item-row>div:first-child .body-text {
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 12px;
            background: #e2e8f0;
            padding: 6px 10px;
            border-radius: 6px;
            color: #4a5568;
            display: inline-block;
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* Amount Styling */
        .wg-product.item-row>div:nth-child(3) .body-text {
            font-weight: 600;
            color: #059669;
            font-size: 16px;
        }

        /* Status Styling */
        .wg-product.item-row>div:nth-child(4) .body-text {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: capitalize;
            display: inline-block;
            min-width: 80px;
            text-align: center;
        }

        /* Status Colors */
        .wg-product.item-row>div:nth-child(4) .body-text {
            background: #e2e8f0;
            color: #4a5568;
        }

        /* Action Buttons */
        .list-icon-function {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .item.edit .edit-btn,
        .item.update-status>div {
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            font-size: 14px;
        }

        .item.edit .edit-btn {
            background: #3b82f6;
            color: white;
        }

        .item.edit .edit-btn:hover {
            background: #2563eb;
            transform: scale(1.1);
        }

        .item.update-status>div {
            background: #10b981;
            color: white;
            cursor: pointer;
        }

        .item.update-status>div:hover {
            background: #059669;
            transform: scale(1.1);
        }

        .icon-edit-3::before {
            content: "‚úèÔ∏è";
        }

        .icon-refresh::before {
            content: "üîÑ";
        }

        /* Footer */
        .divider {
            height: 1px;
            background: #e2e8f0;
            margin: 0;
        }

        .flex.items-center.justify-between.flex-wrap.gap10 {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
            padding: 20px;
            background: #f8fafc;
        }

        .text-tiny {
            color: #718096;
            font-size: 14px;
            font-weight: 500;
        }

        /* Bottom Page */
        .bottom-page {
            text-align: center;
            padding: 30px;
            color: #718096;
            font-size: 13px;
        }

        .bottom-page a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }

        .bottom-page a:hover {
            text-decoration: underline;
        }

        /* Mobile Responsiveness */
        @media (max-width: 1024px) {
            .main-content {
                padding: 15px;
            }

            .flex.items-center.flex-wrap.justify-between.gap20.mb-30 {
                padding: 20px;
            }

            h3 {
                font-size: 24px;
            }

            .table-title,
            .wg-product.item-row {
                padding: 15px;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 10px;
            }

            .flex.items-center.flex-wrap.justify-between.gap20.mb-30 {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
                padding: 20px;
            }

            .breadcrumbs {
                align-self: stretch;
                justify-content: center;
            }

            h3 {
                font-size: 20px;
            }

            /* Hide table header on mobile */
            .table-title {
                display: none !important;
            }

            /* Convert table rows to cards */
            .wg-product.item-row {
                flex-direction: column;
                align-items: stretch;
                background: white;
                margin-bottom: 15px;
                border-radius: 12px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
                border: 1px solid #e2e8f0;
                padding: 20px;
            }

            .wg-product.item-row:hover {
                transform: none;
            }

            .wg-product.item-row>div {
                flex: none;
                padding: 8px 0;
                display: flex;
                justify-content: space-between;
                align-items: center;
                border-bottom: 1px solid #f1f5f9;
            }

            .wg-product.item-row>div:last-child {
                border-bottom: none;
                justify-content: center;
                padding-top: 15px;
            }

            /* Add labels for mobile */
            .wg-product.item-row>div::before {
                content: attr(data-label);
                font-weight: 600;
                color: #4a5568;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                flex-shrink: 0;
                min-width: 100px;
            }

            .wg-product.item-row>div:nth-child(1)::before {
                content: "Order ID";
            }

            .wg-product.item-row>div:nth-child(2)::before {
                content: "User";
            }

            .wg-product.item-row>div:nth-child(3)::before {
                content: "Amount";
            }

            .wg-product.item-row>div:nth-child(4)::before {
                content: "Status";
            }

            .wg-product.item-row>div:nth-child(5)::before {
                content: "Actions";
            }

            /* Adjust order ID for mobile */
            .wg-product.item-row>div:first-child .body-text {
                max-width: none;
                font-size: 11px;
            }

            .list-icon-function {
                justify-content: center;
                margin-top: 10px;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 5px;
            }

            .flex.items-center.flex-wrap.justify-between.gap20.mb-30 {
                padding: 15px;
            }

            h3 {
                font-size: 18px;
            }

            .wg-product.item-row {
                padding: 15px;
                margin-bottom: 10px;
            }

            .wg-product.item-row>div::before {
                min-width: 80px;
                font-size: 11px;
            }

            .body-text {
                font-size: 13px;
            }

            .wg-product.item-row>div:first-child .body-text {
                font-size: 10px;
                padding: 4px 8px;
            }
        }

        /* Utility Classes */
        .gap20 {
            gap: 20px;
        }

        .gap10 {
            gap: 10px;
        }

        .mb-30 {
            margin-bottom: 30px;
        }

        .mb-14 {
            margin-bottom: 14px;
        }

        .mt-4 {
            margin-top: 4px;
        }

        .flex {
            display: flex;
        }

        .items-center {
            align-items: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .justify-start {
            justify-content: flex-start;
        }

        .flex-wrap {
            flex-wrap: wrap;
        }

        .flex-column {
            flex-direction: column;
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, .3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .item.edit {
            display: inline-block;
            margin: 10px 0;
        }

        .edit-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: background-color 0.2s;
        }

        .edit-btn:hover {
            background: #0056b3;
        }

        .icon-edit-3::before {
            content: "‚úèÔ∏è";
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s ease-out;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .modal-content {
            background-color: white;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideIn 0.3s ease-out;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            padding: 20px 24px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
        }

        .close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background-color 0.2s;
        }

        .close:hover {
            background-color: #f0f0f0;
        }

        .modal-body {
            padding: 0 24px 24px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #333;
            font-size: 14px;
        }

        .form-control {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .form-control:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
        }

        select.form-control {
            cursor: pointer;
        }

        textarea.form-control {
            resize: vertical;
            min-height: 80px;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-primary {
            background-color: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background-color: #0056b3;
        }

        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background-color: #545b62;
        }

        .order-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            border-left: 4px solid #007bff;
        }

        .order-info h4 {
            margin-bottom: 10px;
            color: #333;
        }

        .order-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            font-size: 14px;
        }

        .order-details div {
            display: flex;
            justify-content: space-between;
        }

        .order-details strong {
            color: #666;
        }

        @media (max-width: 768px) {
            .modal-content {
                width: 95%;
                margin: 10px;
            }

            .order-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body class="body">

    <!-- #wrapper -->
    <div id="wrapper">
        <!-- #page -->
        <div id="page" class="">
            <!-- layout-wrap -->
            <div class="layout-wrap loader-off">
                <!-- preload -->
                <div id="preload" class="preload-container">
                    <div class="preloading">
                        <span></span>
                    </div>
                </div>
                <!-- /preload -->
                <!-- section-menu-left -->
                <div class="section-menu-left">
                    <div class="box-logo">
                        <a href="/dashboard" id="site-logo-inner">
                            <img style="width:60px;" id="logo_header" alt="Maxtron" src="/images/max-logo.png"
                                data-light="/images/max-logo.png" data-dark="/images/max-logo.png">
                        </a>
                        <div class="button-show-hide">
                            <i class="icon-chevron-left"></i>
                        </div>
                    </div>
                    <div class="section-menu-left-wrap">
                        <div class="center">
                            <div class="center-item">
                                <ul class="">
                                    <li class="menu-item ">
                                        <a href="/dashboard" class="">
                                            <div class="icon">
                                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                        d="M12.2652 3.57566C12.1187 3.42921 11.8813 3.42921 11.7348 3.57566L5.25 10.0605V19.8748C5.25 20.0819 5.41789 20.2498 5.625 20.2498H9V16.1248C9 15.0893 9.83947 14.2498 10.875 14.2498H13.125C14.1605 14.2498 15 15.0893 15 16.1248V20.2498H18.375C18.5821 20.2498 18.75 20.0819 18.75 19.8748V10.0605L12.2652 3.57566ZM20.25 11.5605L21.2197 12.5302C21.5126 12.8231 21.9874 12.8231 22.2803 12.5302C22.5732 12.2373 22.5732 11.7624 22.2803 11.4695L13.3258 2.51499C12.5936 1.78276 11.4064 1.78276 10.6742 2.515L1.71967 11.4695C1.42678 11.7624 1.42678 12.2373 1.71967 12.5302C2.01256 12.8231 2.48744 12.8231 2.78033 12.5302L3.75 11.5605V19.8748C3.75 20.9104 4.58947 21.7498 5.625 21.7498H18.375C19.4105 21.7498 20.25 20.9104 20.25 19.8748V11.5605ZM13.5 20.2498H10.5V16.1248C10.5 15.9177 10.6679 15.7498 10.875 15.7498H13.125C13.3321 15.7498 13.5 15.9177 13.5 16.1248V20.2498Z"
                                                        fill="#111111" />
                                                </svg>
                                            </div>
                                            <div class="text">Admin Dashboard</div>
                                        </a>
                                    </li>
                                    <li class="menu-item has-children">
                                        <a href="javascript:void(0);" class="menu-item-button">
                                            <div class="icon"><i class="icon-file-plus"></i></div>
                                            <div class="text">Product Management</div>
                                        </a>
                                        <ul class="sub-menu">
                                            <li class="sub-menu-item">
                                                <a href="/admin-products-list" class="">
                                                    <div class="text">All Products</div>
                                                </a>
                                            </li>
                                            <li class="sub-menu-item">
                                                <a href="/admin-add-product" class="">
                                                    <div class="text">Add Product</div>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="menu-item has-children">
                                        <a href="javascript:void(0);" class="menu-item-button active">
                                            <div class="icon"><i class="icon-layers"></i></div>
                                            <div class="text">Order Management</div>
                                        </a>
                                        <ul class="sub-menu">
                                            <li class="sub-menu-item">
                                                <a href="/admin-orders" class="active">
                                                    <div class="text">Order list</div>
                                                </a>
                                            </li>
                                            <!-- <li class="sub-menu-item">
                                                <a href="/admin-new-category" class="">
                                                    <div class="text">New category</div>
                                                </a>
                                            </li> -->
                                        </ul>
                                    </li>

                                    <li class="menu-item has-children">
                                        <a href="javascript:void(0);" class="menu-item-button">
                                            <div class="icon"><i class="fa fa-users"></i></div>
                                            <div class="text">User Management</div>
                                        </a>
                                        <ul class="sub-menu">
                                            <li class="sub-menu-item">
                                                <a href="/admin-users" class="">
                                                    <div class="text">Users list</div>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="menu-item has-children">
                                        <a href="javascript:void(0);" class="menu-item-button">
                                            <div class="icon"><i class="fa fa-star-o"></i></div>
                                            <div class="text">Testimonials Management</div>
                                        </a>
                                        <ul class="sub-menu">
                                            <li class="sub-menu-item">
                                                <a href="/admin-testimonial" class="">
                                                    <div class="text">Testimonials list</div>
                                                </a>
                                            </li>
                                            <li class="sub-menu-item">
                                                <a href="/admin-add-testimonials" class="">
                                                    <div class="text">New Testimonial</div>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="menu-item has-children">
                                        <a href="javascript:void(0);" class="menu-item-button">
                                            <div class="icon"><i class="fa fa-star-o"></i></div>
                                            <div class="text">Blogs Management</div>
                                        </a>
                                        <ul class="sub-menu">
                                            <li class="sub-menu-item">
                                                <a href="/admin-blogs" class="">
                                                    <div class="text">Blogs list</div>
                                                </a>
                                            </li>
                                            <li class="sub-menu-item">
                                                <a href="/admin-add-blogs" class="">
                                                    <div class="text">New Blog</div>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="menu-item">
                                        <a href="/logout" class="">
                                            <div class="icon">
                                                <svg width="24" height="22" viewBox="0 0 20 20" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M8.125 18.6875C8.125 18.903 8.0394 19.1097 7.88702 19.262C7.73465 19.4144 7.52799 19.5 7.3125 19.5H1.625C1.19402 19.5 0.780698 19.3288 0.475951 19.024C0.171205 18.7193 0 18.306 0 17.875V1.625C0 1.19402 0.171205 0.780698 0.475951 0.475951C0.780698 0.171205 1.19402 0 1.625 0H7.3125C7.52799 0 7.73465 0.0856026 7.88702 0.237976C8.0394 0.390349 8.125 0.597012 8.125 0.8125C8.125 1.02799 8.0394 1.23465 7.88702 1.38702C7.73465 1.5394 7.52799 1.625 7.3125 1.625H1.625V17.875H7.3125C7.52799 17.875 7.73465 17.9606 7.88702 18.113C8.0394 18.2653 8.125 18.472 8.125 18.6875ZM19.2623 9.17516L15.1998 5.11266C15.0474 4.9602 14.8406 4.87455 14.625 4.87455C14.4094 4.87455 14.2026 4.9602 14.0502 5.11266C13.8977 5.26511 13.812 5.47189 13.812 5.6875C13.812 5.90311 13.8977 6.10989 14.0502 6.26234L16.7263 8.9375H7.3125C7.09701 8.9375 6.89035 9.0231 6.73798 9.17548C6.5856 9.32785 6.5 9.53451 6.5 9.75C6.5 9.96549 6.5856 10.1722 6.73798 10.3245C6.89035 10.4769 7.09701 10.5625 7.3125 10.5625H16.7263L14.0502 13.2377C13.8977 13.3901 13.812 13.5969 13.812 13.8125C13.812 14.0281 13.8977 14.2349 14.0502 14.3873C14.2026 14.5398 14.4094 14.6255 14.625 14.6255C14.8406 14.6255 15.0474 14.5398 15.1998 14.3873L19.2623 10.3248C19.3379 10.2494 19.3978 10.1598 19.4387 10.0611C19.4796 9.9625 19.5006 9.85678 19.5006 9.75C19.5006 9.64322 19.4796 9.5375 19.4387 9.43886C19.3978 9.34023 19.3379 9.25062 19.2623 9.17516Z"
                                                        fill="#111111" />
                                                </svg>
                                            </div>
                                            <div class="text">Log out</div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /section-menu-left -->
                <!-- section-content-right -->
                <div class="section-content-right">
                    <!-- header-dashboard -->
                    <div class="header-dashboard">
                        <div class="wrap">
                            <div class="header-left">
                                <a href="/dashboard">
                                    <img style="width: 50px;" id="logo_header_mobile" alt="" src="/images/max-logo.png"
                                        data-light="/images/max-logo.png" data-dark="/images/max-logo.png">
                                </a>
                                <div class="button-show-hide">
                                    <i class="icon-chevron-left"></i>
                                </div>
                            </div>
                            <div class="header-grid">
                                <div class="header-item button-dark-light">
                                    <i class="icon-moon"></i>
                                </div>


                                <div class="header-item button-zoom-maximize">
                                    <div class="">
                                        <i class="icon-maximize"></i>
                                    </div>
                                </div>
                                <div class="popup-wrap user type-header">
                                    <div class="dropdown">
                                        <button class="btn btn-secondary dropdown-toggle" type="button"
                                            id="dropdownMenuButton3" data-bs-toggle="dropdown" aria-expanded="false">
                                            <span class="header-user wg-user">
                                                <span class="image">
                                                    <img src="admin-images/avatar/user-1.png" alt="">
                                                </span>
                                                <span class="flex flex-column">
                                                    <span class="body-text text-main-dark">Vitis</span>
                                                    <span class="text-tiny">Admin</span>
                                                </span>
                                            </span>
                                        </button>
                                        <ul class="dropdown-menu dropdown-menu-end has-content"
                                            aria-labelledby="dropdownMenuButton3">

                                            <li>
                                                <a href="#" class="user-item">
                                                    <div class="icon">
                                                        <i class="icon-headphones"></i>
                                                    </div>
                                                    <div class="body-title-2">Support</div>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="/logout" class="user-item">
                                                    <div class="icon">
                                                        <i class="icon-log-out"></i>
                                                    </div>
                                                    <div class="body-title-2">Log out</div>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /header-dashboard -->
                    <!-- main-content -->
                    <div class="main-content">
                        <div class="main-content-inner">
                            <div class="main-content-wrap">
                                <div class="flex items-center flex-wrap justify-between gap20 mb-30">
                                    <h3>Order Management</h3>
                                    <ul class="breadcrumbs flex items-center flex-wrap justify-start gap10">
                                        <li><a href="/dashboard">
                                                <div style="color: white;" class="text-tiny">Dashboard</div>
                                            </a></li>
                                        <li><i class="icon-chevron-right"></i></li>
                                        <li><a href="#">
                                                <div style="color: white;" class="text-tiny">Order Management</div>
                                            </a></li>
                                        <li><i class="icon-chevron-right"></i></li>
                                        <li>
                                            <div class="text-tiny">All Orders</div>
                                        </li>
                                    </ul>
                                </div>

                                <!-- Status Filter -->
                                <div class="filter-section mb-20">
                                    <form action="/admin-orders" method="get">
                                        <select name="status" onchange="this.form.submit()">
                                            <option value="all" <%=statusFilter==='all' ? 'selected' : '' %>>All
                                                Statuses</option>
                                            <option value="Pending" <%=statusFilter==='Pending' ? 'selected' : '' %>
                                                >Pending</option>
                                            <option value="Processing" <%=statusFilter==='Processing' ? 'selected' : ''
                                                %>>Processing</option>
                                            <option value="Shipped" <%=statusFilter==='Shipped' ? 'selected' : '' %>
                                                >Shipped</option>
                                            <option value="Delivered" <%=statusFilter==='Delivered' ? 'selected' : '' %>
                                                >Delivered</option>
                                            <option value="Cancelled" <%=statusFilter==='Cancelled' ? 'selected' : '' %>
                                                >Cancelled</option>
                                        </select>
                                    </form>
                                </div>

                                <!-- Orders Table -->
                                <div class="wg-box">
                                    <div class="wg-table table-all-orders">
                                        <ul class="table-title flex gap20 mb-14">
                                            <li>
                                                <div class="body-title">Order ID</div>
                                            </li>
                                            <li>
                                                <div class="body-title">User</div>
                                            </li>
                                            <li>
                                                <div class="body-title">Total Amount</div>
                                            </li>
                                            <li>
                                                <div class="body-title">Status</div>
                                            </li>
                                            <li>
                                                <div class="body-title">Delivery Date</div>
                                            </li>
                                            <li>
                                                <div class="body-title">Action</div>
                                            </li>
                                        </ul>
                                        <ul class="flex flex-column" id="order-list">
                                            <% orders.forEach(order=> { %>
                                                <li class="wg-product item-row gap20">
                                                    <div class="body-text text-main-dark mt-4">
                                                        <%= order._id %>
                                                    </div>
                                                    <div class="body-text text-main-dark mt-4">
                                                        <%= order.user.name %>
                                                    </div>
                                                    <div class="body-text text-main-dark mt-4">
                                                        ‚Çπ<%= order.totalAmount.toFixed(2) %>
                                                    </div>
                                                    <div class="body-text text-main-dark mt-4">
                                                        <span class="status-badge <%= order.status.toLowerCase() %>">
                                                            <%= order.status %>
                                                        </span>
                                                    </div>
                                                    <div class="body-text text-main-dark mt-4">
                                                      <span>
                                                            <% if (order.estimatedDelivery) { %>
                                                                <%= new
                                                                    Date(order.estimatedDelivery).toLocaleDateString('en-US',
                                                                    { year: 'numeric' , month: 'long' , day: 'numeric'
                                                                    }) %>
                                                                    <% } else { %>
                                                                        Not set
                                                                        <% } %>
                                                        </span>
                                                    </div>
                                                    <div class="list-icon-function">
                                                        <div class="item edit">
                                                            <button class="edit-btn"
                                                                onclick="openEditModal('<%= order._id %>')">
                                                                <i class="icon-edit-3"></i>
                                                            </button>
                                                        </div>
                                                        <div class="item update-status"
                                                            onclick="updateOrderStatus('<%= order._id %>')">
                                                            <div><i class="icon-refresh"></i></div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <% }) %>
                                        </ul>
                                    </div>

                                    <!-- Pagination -->
                                    <div class="divider"></div>
                                    <div class="flex items-center justify-between flex-wrap gap10">
                                        <div class="pagination flex items-center justify-between mt-20">
                                            <div class="text-tiny">
                                                Showing <%= (currentPage-1)*limit+1 %> to
                                                    <%= Math.min(currentPage*limit, totalOrders) %> of <%= totalOrders
                                                            %> orders
                                            </div>

                                            <div class="flex gap-10">
                                                <% if (currentPage> 1) { %>
                                                    <a href="/admin-orders?page=<%= currentPage-1 %><%= statusFilter !== 'all' ? `&status=${statusFilter}` : '' %>"
                                                        class="pagination-btn">
                                                        Previous
                                                    </a>
                                                    <% } %>

                                                        <% for (let i=1; i <=totalPages; i++) { %>
                                                            <a href="/admin-orders?page=<%= i %><%= statusFilter !== 'all' ? `&status=${statusFilter}` : '' %>"
                                                                class="pagination-btn <%= currentPage === i ? 'active' : '' %>">
                                                                <%= i %>
                                                            </a>
                                                            <% } %>

                                                                <% if (currentPage < totalPages) { %>
                                                                    <a href="/admin-orders?page=<%= currentPage+1 %><%= statusFilter !== 'all' ? `&status=${statusFilter}` : '' %>"
                                                                        class="pagination-btn">
                                                                        Next
                                                                    </a>
                                                                    <% } %>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bottom-page">
                            <div class="body-text">Copyright ¬© 2025 <a href="https://trivlogic.com">Trivlogic</a>.
                                Design by Trivlogic All rights reserved</div>
                        </div>
                    </div>

                    <!-- Edit Order Modal -->
                    <div id="editOrderModal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h2 class="modal-title">Edit Order</h2>
                                <button class="close" onclick="closeEditModal()">&times;</button>
                            </div>
                            <div class="modal-body">
                                <div class="order-info">
                                    <h4>Order Information</h4>
                                    <div class="order-details">
                                        <div><strong>Order ID:</strong> <span id="modalOrderId">-</span></div>
                                        <div><strong>Customer:</strong> <span id="modalCustomer">-</span></div>
                                        <div><strong>Order Date:</strong> <span id="modalOrderDate">-</span></div>
                                        <div><strong>Total Amount:</strong> <span id="modalAmount">-</span></div>
                                    </div>
                                </div>

                                <form id="editOrderForm">
                                    <div class="form-group">
                                        <label class="form-label" for="orderStatus">Order Status</label>
                                        <select class="form-control" id="orderStatus" name="status" required>
                                            <option value="Pending">Pending</option>
                                            <option value="Processing">Processing</option>
                                            <option value="Shipped">Shipped</option>
                                            <option value="Delivered">Delivered</option>
                                            <option value="Cancelled">Cancelled</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label" for="estimatedDelivery"> Delivery Date</label>
                                        <input type="date" class="form-control" id="estimatedDelivery"
                                            name="estimatedDelivery">
                                    </div>

                                    <div class="btn-group">
                                        <button type="button" class="btn btn-secondary"
                                            onclick="closeEditModal()">Cancel</button>
                                        <button type="submit" class="btn btn-primary" id="submitBtn">Update
                                            Order</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <style>
                        /* Status Badges */
                        .status-badge {
                            padding: 4px 8px;
                            border-radius: 12px;
                            font-size: 12px;
                            font-weight: 500;
                        }

                        .status-badge.pending {
                            background: #FFF3CD;
                            color: #856404;
                        }

                        .status-badge.processing {
                            background: #CCE5FF;
                            color: #004085;
                        }

                        .status-badge.shipped {
                            background: #D4EDDA;
                            color: #155724;
                        }

                        .status-badge.delivered {
                            background: #D1ECF1;
                            color: #0C5460;
                        }

                        .status-badge.cancelled {
                            background: #F8D7DA;
                            color: #721C24;
                        }

                        /* Modal Styles */
                        .modal {
                            display: none;
                            position: fixed;
                            z-index: 1000;
                            left: 0;
                            top: 0;
                            width: 100%;
                            height: 100%;
                            overflow: auto;
                            background-color: rgba(0, 0, 0, 0.4);
                        }

                        .modal.show {
                            display: block;
                        }

                        .modal-content {
                            background-color: #fefefe;
                            margin: 5% auto;
                            padding: 20px;
                            border: 1px solid #888;
                            width: 60%;
                            max-width: 700px;
                            border-radius: 8px;
                        }

                        .modal-header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            padding-bottom: 15px;
                            border-bottom: 1px solid #eee;
                        }

                        .close {
                            color: #aaa;
                            font-size: 28px;
                            font-weight: bold;
                            cursor: pointer;
                        }

                        .close:hover {
                            color: black;
                        }

                        .form-group {
                            margin-bottom: 15px;
                        }

                        .form-label {
                            display: block;
                            margin-bottom: 5px;
                            font-weight: 500;
                        }

                        .form-control {
                            width: 100%;
                            padding: 8px 12px;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                        }

                        .btn-group {
                            display: flex;
                            justify-content: flex-end;
                            gap: 10px;
                            margin-top: 20px;
                        }

                        .btn {
                            padding: 8px 16px;
                            border: none;
                            border-radius: 4px;
                            cursor: pointer;
                        }

                        .btn-secondary {
                            background: #6c757d;
                            color: white;
                        }

                        .btn-primary {
                            background: #007bff;
                            color: white;
                        }

                        /* Loading State */
                        .btn-loading {
                            position: relative;
                            pointer-events: none;
                        }

                        .btn-loading::after {
                            content: "";
                            position: absolute;
                            width: 16px;
                            height: 16px;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            margin: auto;
                            border: 3px solid transparent;
                            border-top-color: #ffffff;
                            border-radius: 50%;
                            animation: button-loading-spinner 1s ease infinite;
                        }

                        @keyframes button-loading-spinner {
                            from {
                                transform: rotate(0turn);
                            }

                            to {
                                transform: rotate(1turn);
                            }
                        }
                    </style>

                    <script>
                        let currentOrder = null;
                        let isLoading = false;

                        // Open modal with order details
                        async function openEditModal(orderId) {
                            if (isLoading) return;

                            try {
                                isLoading = true;
                                document.getElementById('editOrderModal').classList.add('loading');

                                const response = await fetch(`/orders/${orderId}`);
                                if (!response.ok) throw new Error('Failed to fetch order');

                                currentOrder = await response.json();

                                // Populate modal fields
                                document.getElementById('modalOrderId').textContent = currentOrder._id;
                                document.getElementById('modalCustomer').textContent = currentOrder.user.name;
                                document.getElementById('modalOrderDate').textContent = new Date(currentOrder.createdAt).toLocaleDateString();
                                document.getElementById('modalAmount').textContent = `‚Çπ${currentOrder.totalAmount.toFixed(2)}`;

                                document.getElementById('orderStatus').value = currentOrder.status;

                                // Corrected estimated delivery date handling
                                const estimatedDeliveryElement = document.getElementById('estimatedDelivery');
                                if (currentOrder.estimatedDelivery) {
                                    const estimatedDate = new Date(currentOrder.estimatedDelivery);
                                    estimatedDeliveryElement.value = estimatedDate.toISOString().split('T')[0];
                                } else {
                                    estimatedDeliveryElement.value = '';
                                }

                                // Show modal
                                document.getElementById('editOrderModal').classList.add('show');
                                document.body.style.overflow = 'hidden';
                            } catch (error) {
                                console.error('Error:', error);
                                alert('Failed to load order details');
                            } finally {
                                isLoading = false;
                                document.getElementById('editOrderModal').classList.remove('loading');
                            }
                        }
                        // Close modal
                        function closeEditModal() {
                            document.getElementById('editOrderModal').classList.remove('show');
                            document.body.style.overflow = 'auto';
                            currentOrder = null;
                            document.getElementById('editOrderForm').reset();
                        }

                        // Quick status update
                        async function updateOrderStatus(orderId) {
                            const newStatus = prompt('Enter new status (Pending, Processing, Shipped, Delivered, Cancelled):');

                            if (!newStatus) return;
                            if (!['Pending', 'Processing', 'Shipped', 'Delivered', 'Cancelled'].includes(newStatus)) {
                                return alert('Invalid status. Please use one of: Pending, Processing, Shipped, Delivered, Cancelled');
                            }

                            try {
                                const response = await fetch(`/orders/update-status/${orderId}`, {
                                    method: 'PUT',
                                    headers: { 'Content-Type': 'application/json' },
                                    body: JSON.stringify({ status: newStatus })
                                });

                                const data = await response.json();

                                if (data.success) {
                                    location.reload();
                                } else {
                                    alert(data.message || 'Failed to update status');
                                }
                            } catch (error) {
                                console.error('Error:', error);
                                alert('Failed to update status');
                            }
                        }

                        // Handle form submission
                        document.getElementById('editOrderForm').addEventListener('submit', async function (e) {
                            e.preventDefault();
                            if (!currentOrder || isLoading) return;

                            const submitBtn = document.getElementById('submitBtn');
                            submitBtn.classList.add('btn-loading');
                            submitBtn.disabled = true;
                            isLoading = true;

                            try {
                                const formData = {
                                    status: document.getElementById('orderStatus').value,
                                    estimatedDelivery: document.getElementById('estimatedDelivery').value
                                };

                                const response = await fetch(`/orders/update/${currentOrder._id}`, {
                                    method: 'PUT',
                                    headers: { 'Content-Type': 'application/json' },
                                    body: JSON.stringify(formData)
                                });

                                const data = await response.json();

                                if (data.success) {
                                    alert('Order updated successfully!');
                                    closeEditModal();
                                    location.reload();
                                } else {
                                    alert(data.message || 'Failed to update order');
                                }
                            } catch (error) {
                                console.error('Error:', error);
                                alert('Failed to update order');
                            } finally {
                                submitBtn.classList.remove('btn-loading');
                                submitBtn.disabled = false;
                                isLoading = false;
                            }
                        });

                        // Close modal when clicking outside
                        document.getElementById('editOrderModal').addEventListener('click', function (e) {
                            if (e.target === this) closeEditModal();
                        });

                        // Close modal with ESC key
                        document.addEventListener('keydown', function (e) {
                            if (e.key === 'Escape' && document.getElementById('editOrderModal').classList.contains('show')) {
                                closeEditModal();
                            }
                        });
                    </script>
                    <!-- /main-content -->
                </div>
                <!-- /section-content-right -->
            </div>
            <!-- /layout-wrap -->
        </div>
        <!-- /#page -->
    </div>
    <!-- /#wrapper -->

    <!-- Javascript -->
    <script src="admin-js/jquery.min.js"></script>
    <script src="admin-js/bootstrap.min.js"></script>
    <script src="admin-js/bootstrap-select.min.js"></script>
    <script src="admin-js/zoom.js"></script>
    <script src="admin-js/switcher.js"></script>
    <script defer src="admin-js/theme-settings.js"></script>
    <script defer src="admin-js/main.js"></script>

</body>

</html>